(this["webpackJsonptingme-flipcard"]=this["webpackJsonptingme-flipcard"]||[]).push([[0],{25:function(t,n,i){t.exports=i(26)},26:function(t,n,i){"use strict";i.r(n);var a=i(0),r=i.n(a),e=i(4),o=i(3),s=(i(28),i(2));function c(t){for(var n,i,a=t.length;0!==a;)i=Math.floor(Math.random()*a),n=t[a-=1],t[a]=t[i],t[i]=n}(function(){var t=Object(o.a)(r.a.mark((function t(){var n,i,a,o,d,f,u,l,p,h,v,w,y,g,b,x,m,E,D,O,j,M,C,R,T,k,B,F;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(47,100,n=document.getElementById("main"),i=Object(s.c)(n,47,100),a=[],o=0;o<12;o++)a.push(o%6);for(c(a),d=[],f=0;f<a.length;f++)d.push({x:f%3,y:Math.floor(f/3),type:a[f],solved:!1,flipped:!1,transition:!1,transitionDuration:0,transitionExpire:0,transitionDelay:0});return u=function(t,n){return d[3*n+t]},47,2.35,h=(100-4*(p=(42.3-2*(l=1.41))/3)-3*l)/2,v=2.35,w=0,y=.06*p,g=i.getContext(),b=i.getCamera(),x=Object(s.d)(n,i),m=Object(s.a)(g),t.next=24,Object(s.f)(g,"./bg.png");case 24:return E=t.sent,t.next=27,Object(s.e)(g,"./atlas/tingme-flipcard.atlas");case 27:D=t.sent,O=D.findRegions("card"),j=D.findRegion("back"),M=D.findRegion("shadow"),"up","down","away",C=[],R=0,T=Date.now(),k=0,x.addEventListener("touchStart",(function(){if(!(R>=2)){var t=x.getTouchedWorldCoord().x,n=x.getTouchedWorldCoord().y,i=Math.floor((t-v)/(l+p)),a=Math.floor((n-h)/(l+p));if(!(i<0||a<0||i>2||a>3)){var r=u(i,a);if(!(r.solved||r.transition||r.flipped)&&(r.transition="up",r.transitionDuration=.2,r.transitionExpire=.2,k++,R++,C.push(r),R>=2))if(C[0].type===C[1].type){var o,s=Object(e.a)(C);try{for(s.s();!(o=s.n()).done;){o.value.solved=!0}}catch(f){s.e(f)}finally{s.f()}var c=C[0],d=C[1];R=0,C.length=0,setTimeout((function(){c.transition="away",c.transitionDuration=.2,c.transitionExpire=.2,d.transition="away",d.transitionDuration=.2,d.transitionExpire=.2}),500)}else setTimeout((function(){var t,n=Object(e.a)(C);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.transition="down",i.transitionDuration=.2,i.transitionExpire=.2}}catch(f){n.e(f)}finally{n.f()}C.length=0,R=0}),500)}}})),g.clearColor(0,0,0,0),B=0,F=function(t){g.clear(g.COLOR_BUFFER_BIT),m.setProjection(b.combined),m.begin(),m.draw(E,0,0,47,100);var n,i=Object(e.a)(d);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.transition&&(a.transitionExpire-=t,a.transitionExpire<=0&&("up"===a.transition?a.flipped=!0:"down"===a.transition?a.flipped=!1:(a.hidden=!0,++B===d.length&&alert("You have completed the game in ".concat(k," moves, ").concat(Math.floor((Date.now()-T)/1e3)," seconds."))),a.transition=!1,a.transitionDuration=0,a.transitionExpire=0))}}catch(C){i.e(C)}finally{i.f()}var r,o=Object(e.a)(d);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(!s.hidden){var c=O[s.type],f=v+s.x*(p+l),u=h+s.y*(p+l);if(s.transition)if("up"===s.transition||"down"===s.transition){var x=Math.abs(s.transitionExpire-s.transitionDuration/2)/s.transitionDuration*2;M.draw(m,f+w,u+y,p,p,p/2,p/2,0,x,1),s.transitionExpire>s.transitionDuration/2^"down"===s.transition?j.draw(m,f,u,p,p,p/2,p/2,0,x,1):c.draw(m,f,u,p,p,p/2,p/2,0,x,1)}else{var D=s.transitionExpire/s.transitionDuration;M.draw(m,f+w,u+y,p,p,p/2,p/2,0,D,D),c.draw(m,f,u,p,p,p/2,p/2,0,D,D)}else M.draw(m,f+w,u+y,p,p),s.flipped?c.draw(m,f,u,p,p):j.draw(m,f,u,p,p)}}}catch(C){o.e(C)}finally{o.f()}m.end()},Object(s.b)(F);case 43:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},28:function(t,n,i){}},[[25,1,2]]]);
//# sourceMappingURL=main.eb99f46f.chunk.js.map